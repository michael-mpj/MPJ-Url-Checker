<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>URL Viewer</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    .iframe-wrapper {
      position: relative;
      width: 100%;
      height: 400px;
      background: #e9ecef;
      border-radius: 0.5rem;
      overflow: hidden;
    }
    body {
      padding-top: 56px; /* Adjust if your navbar height changes */
    }
    .iframe-wrapper iframe {
      position: absolute;
      top: 0; left: 0;
      width: 100%; 
      height: 100%;
      border: 0;
      overflow: hidden;
      pointer-events: none;
      
    }
    /* Custom message box styling */
    #messageBox {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1050;
      min-width: 250px;
    }
  </style>
</head>
<body class="bg-light">

  <!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">URL Viewer</a>

    <div class="ms-auto d-flex align-items-center gap-2" id="nav-controls" style="display: none;">
      <select id="area-filter" class="form-select form-select-sm" style="width: auto;">
        <option value="all">All Areas</option>
      </select>
      <button id="prev-btn" class="btn btn-outline-light btn-sm">Previous</button>
      <span id="page-info" class="text-white small mx-2"></span>
      <button id="next-btn" class="btn btn-outline-light btn-sm">Next</button>
      <button class="btn btn-outline-info btn-sm" data-bs-toggle="modal" data-bs-target="#rawDataModal">
        View Raw Data
      </button>
    </div>
  </div>
</nav>


  <!-- Main Content -->
  <div class="container-fluid">
    <div class="align-items-center my-3">
      <h1 class="text-center mb-4">URL Viewer</h1>
    <p class="text-center mb-4">View and manage URLs from the database.</p>
    </div>
    

    <!-- Loading -->
    <div id="loading-indicator" class="text-center my-4">
      <div class="spinner-border text-primary" role="status"></div>
      <p>Loading URLs...</p>
    </div>

    <!-- Error -->
    <div id="error-message" class="alert alert-danger d-none" role="alert">
      <strong>Error:</strong> <span id="error-text">Failed to load URLs.</span>
    </div>

    <!-- Iframes -->
    <div id="iframe-container" class="row row-cols-1 row-cols-md-4 g-2 mb-4"></div>

    <!-- Pagination -->
    <nav id="pagination-container" class="my-4" aria-label="Page navigation">
      <ul class="pagination justify-content-center">
        <!-- Example Pagination (will be dynamically generated by JS) -->
        <li class="page-item disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a></li>
        <li class="page-item active" aria-current="page"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item"><a class="page-link" href="#">Next</a></li>
      </ul>
    </nav>
  </div>

  <!-- Raw Data Modal -->
  <div class="modal fade" id="rawDataModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Raw URL Data (JSON)</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <textarea id="jsonDataDisplay" class="form-control" rows="15"></textarea>
        </div>
        <div class="modal-footer">
          <button type="button" id="save-raw-btn" class="btn btn-success">Save</button>
          <button type="button" id="download-json-btn" class="btn btn-secondary">Download</button>
          <label class="btn btn-info mb-0">
            Upload <input type="file" id="upload-json-input" hidden accept=".json">
          </label>
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Custom Message Box -->
  <div id="messageBox" class="alert d-none" role="alert">
    <span id="messageText"></span>
    <button type="button" class="btn-close" aria-label="Close" onclick="this.parentElement.classList.add('d-none');"></button>
  </div>


  <!-- Footer -->
  <footer class="bg-dark text-white text-center py-3">
    &copy; 2023 JBR URL Viewer
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="main.js"></script>
</body>
</html>
